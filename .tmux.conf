set -g prefix C-a
unbind C-b
bind C-a send-prefix
bind a last-window

unbind C-/

set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'
set-option -g status-interval 1

# Open splits in the same path as the current pane
bind - split-window -v -c "#{pane_current_path}"
bind '|' split-window -h -c "#{pane_current_path}"

unbind l
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

set -s escape-time 0

# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000

# Increase tmux messages display duration from 750ms to 4s
set -g display-time 4000

# Refresh 'status-left' and 'status-right' more often, from every 15s to 5s
set -g status-interval 5

# Upgrade $TERM
set -g default-terminal "screen-256color"

# Enable extended keys (CSI u / Kitty keyboard protocol) for proper <C-i> vs <Tab> handling
set -s extended-keys on
set -as terminal-features 'xterm*:extkeys'

# Easier and faster switching between next/prev window
bind C-p previous-window
bind C-n next-window

# Source .tmux.conf as suggested in `man tmux`
bind R source-file ~/.tmux.conf

# Project picker - Open project in new window with Ctrl-a f
bind f display-popup -E -w 80% -h 80% "~/dotfiles/bin/tmux-project-picker.sh"

# Quick access to project root
bind P run-shell "tmux new-window -c ~/wsgr/neuron"

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'erikw/tmux-powerline'

run '~/.tmux/plugins/tpm/tpm'
